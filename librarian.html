<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Библиотекарь | Предложения</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <div class="container">
    <div style="display: flex; justify-content: space-between; align-items: center;">
      <h1>Панель библиотекаря</h1>
      <a href="index.html" class="role-btn">← На главную</a>
    </div>

    <!-- Уведомления -->
    <div id="librarianNotifications" style="margin-bottom: 20px;"></div>

    <h2>Предложить новую книгу</h2>
    <p style="color: var(--text-light); margin-bottom: 1rem;">Книга появится в каталоге только после одобрения</p>
    
    <input id="title" placeholder="Название">
    <input id="author" placeholder="Автор">
    <input id="year" placeholder="Год">
    
    <!-- Тумблер для выбора типа источника PDF -->
    <div class="pdf-toggle-container">
      <label class="toggle-switch">
        <input type="checkbox" id="pdfToggle" checked>
        <span class="toggle-slider"></span>
      </label>
      <span id="toggleLabel">Файл PDF</span>
    </div>
    
    <!-- Поле для загрузки файла (показывается по умолчанию) -->
    <div id="fileInputContainer">
      <input type="file" id="pdfFile" accept=".pdf">
      <small style="display: block; color: #666; margin-top: 5px;">Выберите PDF-файл</small>
    </div>
    
    <!-- Поле для ссылки (скрыто по умолчанию) -->
    <div id="linkInputContainer" style="display: none;">
      <input id="pdfLink" placeholder="https://example.com/book.pdf" value="https://olehnik.ru/files/literatura/Н. Гоголь Шинель.pdf">
      <small style="display: block; color: #666; margin-top: 5px;">Вставьте прямую ссылку на PDF-файл</small>
    </div>
    
    <button onclick="addBookProposal()">Отправить на модерацию</button>

    <hr>

    <h2>Мои предложения</h2>
    <div id="myProposals"></div>
  </div>

  <div id="notificationModal" class="modal">
    <div class="modal-content">
      <span class="close">&times;</span>
      <h3 id="notificationTitle">Уведомление</h3>
      <p id="notificationMessage"></p>
    </div>
  </div>

  <div id="loader">
    <div class="spinner"></div>
  </div>

  <style>
    /* Стили для тумблера */
    .pdf-toggle-container {
      display: flex;
      align-items: center;
      margin: 15px 0;
      gap: 10px;
    }
    
    .toggle-switch {
      position: relative;
      display: inline-block;
      width: 60px;
      height: 34px;
    }
    
    .toggle-switch input {
      opacity: 0;
      width: 0;
      height: 0;
    }
    
    .toggle-slider {
      position: absolute;
      cursor: pointer;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background-color: #2196F3;
      transition: .4s;
      border-radius: 34px;
    }
    
    .toggle-slider:before {
      position: absolute;
      content: "";
      height: 26px;
      width: 26px;
      left: 4px;
      bottom: 4px;
      background-color: white;
      transition: .4s;
      border-radius: 50%;
    }
    
    input:checked + .toggle-slider {
      background-color: #2196F3;
    }
    
    input:checked + .toggle-slider:before {
      transform: translateX(26px);
    }
    
    #toggleLabel {
      font-weight: 500;
      color: var(--text-color);
    }
    
    /* Стили для книг-ссылок */
    .book {
      cursor: pointer;
      transition: transform 0.2s;
    }
    
    .book:hover {
      transform: translateY(-2px);
      box-shadow: 0 4px 8px rgba(0,0,0,0.1);
    }
    
    .book-link {
      text-decoration: none;
      color: inherit;
      display: block;
    }
  </style>

  <script type="module" src="app.js"></script>
</body>
</html>
